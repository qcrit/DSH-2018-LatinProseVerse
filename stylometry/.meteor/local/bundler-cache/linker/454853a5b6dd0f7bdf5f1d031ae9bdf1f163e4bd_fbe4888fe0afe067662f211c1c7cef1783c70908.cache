[{"type":"js","data":"/* Imports for global scope */\n\nMongo = Package.mongo.Mongo;\nReactiveVar = Package['reactive-var'].ReactiveVar;\nTracker = Package.tracker.Tracker;\nDeps = Package.tracker.Deps;\nRouter = Package['iron:router'].Router;\nRouteController = Package['iron:router'].RouteController;\nSession = Package.session.Session;\nBert = Package['themeteorchef:bert'].Bert;\nMeteor = Package.meteor.Meteor;\nglobal = Package.meteor.global;\nmeteorEnv = Package.meteor.meteorEnv;\nWebApp = Package.webapp.WebApp;\nDDP = Package['ddp-client'].DDP;\nBlaze = Package.ui.Blaze;\nUI = Package.ui.UI;\nHandlebars = Package.ui.Handlebars;\nSpacebars = Package.spacebars.Spacebars;\nTemplate = Package['templating-runtime'].Template;\nmeteorInstall = Package.modules.meteorInstall;\nmeteorBabelHelpers = Package['babel-runtime'].meteorBabelHelpers;\nPromise = Package.promise.Promise;\nIron = Package['iron:core'].Iron;\nAutoupdate = Package.autoupdate.Autoupdate;\nReload = Package.reload.Reload;\nHTML = Package.htmljs.HTML;\nSymbol = Package['ecmascript-runtime-client'].Symbol;\nMap = Package['ecmascript-runtime-client'].Map;\nSet = Package['ecmascript-runtime-client'].Set;\n\n","servePath":"/global-imports.js"},{"type":"js","data":"var require = meteorInstall({\"imports\":{\"ui\":{\"pages\":{\"sresults.html\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/pages/sresults.html                                                                                      //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.watch(require(\"./template.sresults.js\"), {\n  \"*\": module.makeNsSetter(true)\n});\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.sresults.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/pages/template.sresults.js                                                                               //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n\nTemplate.__checkName(\"sresults\");\nTemplate[\"sresults\"] = new Template(\"Template.sresults\", (function() {\n  var view = this;\n  return [ HTML.Raw('<div class=\"page_heading_bg\">\\n      <div class=\"container\">\\n          <h1 style=\"text-transform: none;\">Stylometry</h1>\\n      </div>\\n  </div>\\n  '), HTML.DIV({\n    class: \"section section_main_body\",\n    id: \"wrapper\"\n  }, \"\\n    \", HTML.DIV({\n    class: \"container2\"\n  }, \"\\n        \", HTML.DIV({\n    class: \"row\"\n  }, \"\\n    \", HTML.DIV({\n    class: \"fcontainer col-lg-12 col-md-12 col-sm-12 col-xs-12\"\n  }, \"\\n      \", HTML.DIV({\n    class: \"panel panel-transparent sresult\"\n  }, \"\\n        \", HTML.Raw('<div class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 p-b-5 p-l-0 p-r-0 pull_right\">\\n          <button type=\"submit\" class=\"btn btn-primary btn-sm newsearch\"><i class=\"fa fa-search m-r-5\"></i> New Search</button>\\n          <button type=\"submit\" class=\"btn btn-primary btn-sm saveResult\"><i class=\"fa fa-file-text-o\"></i> Export Results</button>\\n          <button type=\"submit\" class=\"btn btn-primary btn-sm graphs\" id=\"graphs\"><i class=\"fa fa-bar-chart\"></i> View Graphs</button>\\n          <button type=\"submit\" class=\"btn btn-primary btn-sm\" style=\"display:none\" id=\"table\"><i class=\"fa fa-table\"></i> View Table</button>\\n          <button type=\"submit\" class=\"btn btn-primary btn-sm pull-right\" id=\"compare\">Compare Features</button>\\n        </div>'), \"\\n        \", HTML.DIV({\n    class: \"row\"\n  }, \"\\n          \", HTML.DIV({\n    class: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\"\n  }, \"\\n                \", Blaze._TemplateWith(function() {\n    return \"stylooption\";\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"yield\"));\n  }), \"\\n          \"), \"\\n        \"), \"\\n      \"), \"\\n    \"), \"\\n  \"), \"\\n\"), \"\\n\"), HTML.Raw('\\n\\n<div class=\"modal fade slide-up disable-scroll\" id=\"exportModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"modalSlideUpLabel\" aria-hidden=\"false\">\\n  <div class=\"modal-dialog\">\\n    <div class=\"modal-content\">\\n      <div class=\"modal-body\">\\n        <div class=\"panel panel-transparent\">\\n        <div class=\"panel-body no-padding\">\\n        <div id=\"portlet-advance\" class=\"panel panel-default\">\\n        <div class=\"panel-heading\">\\n\\n                      </div>\\n        <div class=\"panel-body\">\\n                  <div class=\"row row-same-height\">\\n                  <div class=\"m-l-20 m-r-20 sm-p-l-15 sm-p-r-15 sm-p-t-40\">\\n        <p class=\"p-t-35\">Choose a file name to export in csv format.</p>\\n        <form id=\"saveResultForm\" class=\"p-t-15\" role=\"form\">\\n        <div class=\"form-group form-group-default\">\\n        <label>File Name</label>\\n        <div class=\"controls\">\\n        <input type=\"text\" id=\"fileName\" name=\"email\" class=\"form-control input-sm\" required=\"\">\\n        </div>\\n        </div>\\n        <div class=\"pull-right\">\\n          <button class=\"btn btn-success btn-cons m-t-10\" id=\"closeExportModal\" type=\"button\">Cancel</button>\\n          <button class=\"btn btn-primary btn-cons m-t-10\" id=\"exportResult\" type=\"submit\">Submit</button>  \\n        </div>\\n        </form>\\n                  </div>\\n        </div>\\n        </div>\\n        <div class=\"panel-footer\"></div>\\n        </div>\\n        </div>\\n\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</div>') ];\n}));\n\nTemplate.__checkName(\"stylometrytable\");\nTemplate[\"stylometrytable\"] = new Template(\"Template.stylometrytable\", (function() {\n  var view = this;\n  return HTML.Raw('<div class=\"row toplevel\" style=\"display:none\">\\n  <div class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 m-t-15 stable\">\\n    <div class=\"swrapper\">\\n      <div id=\"stable\"></div>\\n    </div>\\n  </div>\\n</div>');\n}));\n\nTemplate.__checkName(\"stylometrycompare\");\nTemplate[\"stylometrycompare\"] = new Template(\"Template.stylometrycompare\", (function() {\n  var view = this;\n  return HTML.Raw('<div class=\"fcontainer col-lg-12 col-md-12 col-sm-12 col-xs-12 p-l-0\">\\n    <div class=\"panel panel-transparent fsearch\">\\n      <div class=\"panel-body no-padding\">\\n        <div id=\"portlet-advance\" class=\"panel panel-default panelBorder\">\\n          <div class=\"panel-heading\">\\n          </div>\\n          <div class=\"panel-body\">\\n            <div class=\"row\">\\n              <div class=\"finterface col-lg-12 col-md-12 col-sm-12 col-xs-12\">\\n                <div class=\"m-t-15\">\\n                  <div class=\"col-md-8 offset-md-4\">\\n                    <div class=\"row\">\\n                      <div id=\"comparegraph\"></div>\\n                    </div>\\n                  </div>\\n             </div>\\n           </div>\\n         </div>\\n       </div>\\n     </div>\\n   </div>\\n  </div>\\n  </div>');\n}));\n\nTemplate.__checkName(\"stylometrygraph\");\nTemplate[\"stylometrygraph\"] = new Template(\"Template.stylometrygraph\", (function() {\n  var view = this;\n  return HTML.DIV({\n    class: \"row toplevel\",\n    style: \"display:none\"\n  }, \"\\n  \", Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"nocharts\"));\n  }, function() {\n    return [ \"\\n        \", HTML.DIV({\n      class: \"col-lg-6 col-sm-12 col-xs-12 col-md-12 p-l-0 p-r-0\"\n    }, \"\\n          \", HTML.DIV({\n      class: \"panel panel-transparent fsearch\"\n    }, \"\\n            \", HTML.DIV({\n      class: \"panel-body no-padding\"\n    }, \"\\n              \", HTML.DIV({\n      id: \"portlet-advance\",\n      class: \"panel panel-default panelBorder\"\n    }, \"\\n                \", HTML.DIV({\n      class: \"panel-heading\"\n    }, \"\\n                \"), \"\\n                \", HTML.DIV({\n      class: \"panel-body\"\n    }, \"\\n                  \", HTML.DIV({\n      class: \"row\"\n    }, \"\\n              \", HTML.H2(Blaze.View(\"lookup:header\", function() {\n      return Spacebars.mustache(view.lookup(\"header\"));\n    })), \"\\n            \"), \"\\n            \", HTML.DIV({\n      class: \"box-divider m-0\"\n    }), \"\\n            \", HTML.DIV({\n      class: \"box-body\"\n    }, \"\\n              \", HTML.CANVAS({\n      id: function() {\n        return Spacebars.mustache(view.lookup(\"feature\"));\n      },\n      height: \"300\"\n    }), \"\\n            \"), \"\\n          \"), \"\\n        \"), \"\\n      \"), \"\\n     \"), \"\\n   \"), \"\\n  \" ];\n  }), \"\\n\");\n}));\n\nTemplate.__checkName(\"compareFeatures\");\nTemplate[\"compareFeatures\"] = new Template(\"Template.compareFeatures\", (function() {\n  var view = this;\n  return [ HTML.DIV({\n    class: \"col-sm-6 col-xs-12 col-lg-6 col-md-6 col-md-offset-3 col-lg-offset-3 col-sm-offset-3 p-l-0 p-r-0\",\n    id: \"compareSelect\"\n  }, \"\\n    \", HTML.DIV({\n    class: \"panel panel-transparent fsearch\"\n  }, \"\\n      \", HTML.DIV({\n    class: \"panel-body no-padding\"\n  }, \"\\n        \", HTML.DIV({\n    id: \"portlet-advance\",\n    class: \"panel panel-default panelBorder\"\n  }, \"\\n          \", HTML.Raw('<div class=\"panel-heading\">\\n          </div>'), \"\\n          \", HTML.DIV({\n    class: \"panel-body\"\n  }, \"\\n            \", HTML.Raw('<div class=\"row\">\\n        <h2>Compare Features</h2><br>\\n        <small>Select two features you would like to compare in a scatterplot.</small>\\n      </div>'), \"\\n        \", HTML.FORM({\n    id: \"compareFeaturesForm\"\n  }, \"\\n          \", HTML.DIV({\n    class: \"form-group\"\n  }, \"\\n          \", HTML.DIV({\n    class: \"row\"\n  }, \"\\n          \", HTML.DIV({\n    class: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\"\n  }, \"\\n          \", HTML.DIV({\n    class: \"form-group form-group-default form-group-default-select2\"\n  }, \"\\n            \", HTML.Raw('<label for=\"name\">Feature 1</label>'), \"\\n            \", HTML.SELECT({\n    name: \"feature1\",\n    class: \"full-width input-sm select2\"\n  }, \"\\n              \", HTML.Raw(\"<option></option>\"), \"\\n              \", Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"comparefeatures\"));\n  }, function() {\n    return [ \"\\n              \", HTML.OPTION({\n      value: function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\".\"), \"value\"));\n      }\n    }, Blaze.View(\"lookup:..name\", function() {\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\".\"), \"name\"));\n    })), \"\\n              \" ];\n  }), \"\\n            \"), \"\\n          \"), \"\\n        \"), \"\\n      \"), \"\\n      \", HTML.DIV({\n    class: \"row\"\n  }, \"\\n        \", HTML.DIV({\n    class: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\"\n  }, \"\\n          \", HTML.DIV({\n    class: \"form-group form-group-default form-group-default-select2\"\n  }, \"\\n            \", HTML.Raw('<label for=\"corpusSubName\">Feature 2</label>'), \"\\n            \", HTML.SELECT({\n    name: \"feature2\",\n    class: \"full-width input-sm select2\"\n  }, \"\\n              \", HTML.Raw(\"<option></option>\"), \"\\n              \", Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"comparefeatures\"));\n  }, function() {\n    return [ \"\\n              \", HTML.OPTION({\n      value: function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\".\"), \"value\"));\n      }\n    }, Blaze.View(\"lookup:..name\", function() {\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\".\"), \"name\"));\n    })), \"\\n              \" ];\n  }), \"\\n            \"), \"\\n          \"), \"\\n        \"), \"\\n      \"), \"\\n      \", HTML.Raw('<div class=\"row\">\\n        <div class=\"pull-right\">\\n          <button class=\"btn btn-success btn-cons m-b-10 reset\" type=\"button\"><i class=\"fa fa-refresh\"></i> Reset</button>\\n          <button type=\"submit\" class=\"btn btn-primary btn-cons m-b-10\"><i class=\"fa fa-search\"></i> Submit</button><br><br>\\n        </div>\\n      </div>'), \"\\n      \"), \"\\n      \"), \"\\n    \"), \"\\n  \"), \"\\n\"), \"\\n\"), \"\\n\"), HTML.Raw('\\n\\n<div class=\"col-sm-6 col-xs-12 col-lg-6 col-md-6 col-md-offset-3 col-lg-offset-3 col-sm-offset-3 p-l-0 p-r-0\" id=\"compareView\" style=\"display:none\">\\n  <div class=\"panel panel-transparent\">\\n    <div class=\"panel-body no-padding\">\\n      <div id=\"portlet-advance\" class=\"panel panel-default panelBorder\">\\n        <div class=\"panel-heading\">\\n        </div>\\n        <div class=\"panel-body\">\\n          <div class=\"row\">\\n    <canvas id=\"scatterChart\" height=\"400\"></canvas>\\n  </div>\\n</div>\\n  </div>\\n</div>\\n</div>\\n</div>') ];\n}));\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"stylometry.html\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/pages/stylometry.html                                                                                    //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.watch(require(\"./template.stylometry.js\"), {\n  \"*\": module.makeNsSetter(true)\n});\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.stylometry.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/pages/template.stylometry.js                                                                             //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n\nTemplate.__checkName(\"stylometry\");\nTemplate[\"stylometry\"] = new Template(\"Template.stylometry\", (function() {\n  var view = this;\n  return [ HTML.Raw('<div class=\"page_heading_bg\">\\n      <div class=\"container\">\\n          <h1 style=\"text-transform: none;\">Stylometry</h1>\\n      </div>\\n  </div>\\n  '), HTML.DIV({\n    class: \"section_dark section_main_body\"\n  }, \"\\n      \", HTML.DIV({\n    class: \"container2\"\n  }, \"\\n          \", HTML.DIV({\n    class: \"row\"\n  }, \"\\n  \\t\\t\", HTML.DIV({\n    class: \"fcontainer col-md-12 col-xs-12\"\n  }, \"\\n  \\t\\t\", HTML.DIV({\n    class: \"panel panel-transparent ssearch\"\n  }, \"\\n  \", HTML.DIV({\n    class: \"panel-body no-padding\"\n  }, \"\\n  \", HTML.DIV({\n    id: \"portlet-advance\",\n    class: \"panel panel-default\"\n  }, \"\\n  \", HTML.Raw('<div class=\"panel-heading\">\\n\\n  \\t\\t\\t\\t\\t\\t\\t</div>'), \"\\n  \", HTML.DIV({\n    class: \"panel-body\"\n  }, \"\\n                    \", HTML.DIV({\n    class: \"row\"\n  }, \"\\n                      \", HTML.DIV({\n    class: \"finterface col-lg-12 col-md-12 col-sm-12 col-xs-12\"\n  }, \"\\n                        \", HTML.DIV({\n    class: \"m-t-15\"\n  }, \"\\n                          \", HTML.FORM({\n    id: \"fsearch\"\n  }, \"\\n                            \", HTML.DIV({\n    class: \"col-lg-6 col-md-6 col-xs-12 col-sm-12 b-r b-dashed b-grey\"\n  }, \"\\n  \\t\\t\\t\\t\\t\\t              \", HTML.DIV({\n    class: \"form-group\"\n  }, \"\\n                            \", HTML.Raw('<h3 class=\"text-primary\">Text Selection</h3>'), HTML.Raw(\"<hr>\"), \"\\n                            \", HTML.Raw(\"<p>Select an author/text pair or a more specific work with author/text/book from the dropdown menus.  Once you have made a selection, click add.  You can select one work or many.</p>\"), \"\\n                            \", HTML.DIV({\n    class: \"form-group m-t-20\"\n  }, \"\\n  \\t\\t\\t\\t\\t\\t\\t              \", HTML.DIV({\n    class: \"row clearfix\"\n  }, \"\\n                                \", HTML.DIV({\n    class: \"col-lg-12 col-xs-12\"\n  }, \"\\n                                  \", HTML.DIV({\n    class: \"form-group form-group-default form-group-default-select2\"\n  }, \"\\n                                    \", HTML.Raw(\"<label>Author</label>\"), \"\\n                                    \", HTML.SELECT({\n    id: \"fauthor\",\n    name: \"fauthor\",\n    class: \"full-width input-sm fauthor select2\"\n  }, \"\\n                    \\t\\t\\t\\t\\t\\t\\t\\t\\t\", HTML.Raw(\"<option></option>\"), \"\\n                    \\t\\t\\t\\t\\t\\t\\t\\t\\t\", Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"authors\"));\n  }, function() {\n    return [ \"\\n                    \\t\\t\\t\\t\\t\\t\\t\\t\\t  \", HTML.OPTION({\n      value: function() {\n        return Spacebars.mustache(view.lookup(\".\"));\n      }\n    }, Blaze.View(\"lookup:.\", function() {\n      return Spacebars.mustache(view.lookup(\".\"));\n    })), \"\\n                    \\t\\t\\t\\t\\t\\t\\t\\t\\t\" ];\n  }), \"\\n                  \\t\\t\\t\\t\\t\\t\\t\\t\\t\"), \"\\n                                  \"), \"\\n                                \"), \"\\n                              \"), \"\\n                              \", HTML.DIV({\n    class: \"row clearfix\"\n  }, \"\\n                                \", HTML.DIV({\n    class: \"col-md-12 col-xs-12\"\n  }, \"\\n                                  \", HTML.DIV({\n    class: \"ftext form-group form-group-default form-group-default-select2 disabled\"\n  }, \"\\n                                    \", HTML.Raw(\"<label>Text</label>\"), \"\\n                                    \", HTML.SELECT({\n    id: \"ftext\",\n    name: \"ftext\",\n    class: \"ftext full-width input-sm select2\",\n    disabled: \"\"\n  }, \"\\n                  \\t\\t\\t\\t\\t\\t\\t\\t\\t   \", HTML.Raw(\"<option></option>\"), \"\\n                  \\t\\t\\t\\t\\t\\t\\t\\t\\t   \", Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"texts\"));\n  }, function() {\n    return [ \"\\n                  \\t\\t\\t\\t\\t\\t\\t\\t\\t   \", HTML.OPTION({\n      value: function() {\n        return Spacebars.mustache(view.lookup(\".\"));\n      }\n    }, Blaze.View(\"lookup:.\", function() {\n      return Spacebars.mustache(view.lookup(\".\"));\n    })), \"\\n                  \\t\\t\\t\\t\\t\\t\\t\\t\\t   \" ];\n  }), \"\\n                  \\t\\t\\t\\t\\t\\t\\t\\t  \"), \"\\n                                  \"), \"\\n                                \"), \"\\n  \\t\\t\\t\\t\\t\\t\\t              \"), \"\\n                              \", HTML.DIV({\n    class: \"row clearfix\"\n  }, \"\\n                                \", HTML.DIV({\n    class: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\"\n  }, \"\\n                                  \", HTML.DIV({\n    class: \"fbook form-group form-group-default form-group-default-select2 disabled\"\n  }, \"\\n                                    \", HTML.Raw(\"<label>Book</label>\"), \"\\n                                    \", HTML.SELECT({\n    id: \"fbook\",\n    name: \"fbook\",\n    class: \"fbook full-width input-sm select2\",\n    disabled: \"\"\n  }, \"\\n                  \\t\\t\\t\\t\\t\\t\\t\\t\\t   \", HTML.Raw(\"<option></option>\"), \"\\n                  \\t\\t\\t\\t\\t\\t\\t\\t\\t   \", Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"books\"));\n  }, function() {\n    return [ \"\\n                  \\t\\t\\t\\t\\t\\t\\t\\t\\t   \", HTML.OPTION({\n      value: function() {\n        return Spacebars.mustache(view.lookup(\".\"));\n      }\n    }, Blaze.View(\"lookup:removepart\", function() {\n      return Spacebars.mustache(view.lookup(\"removepart\"), view.lookup(\".\"));\n    })), \"\\n                  \\t\\t\\t\\t\\t\\t\\t\\t\\t   \" ];\n  }), \"\\n                  \\t\\t\\t\\t\\t\\t\\t\\t  \"), \"\\n                                  \"), \"\\n                                \"), \"\\n  \\t\\t\\t\\t\\t\\t\\t              \"), \"\\n                \", HTML.Raw('<div class=\"row clearfix\">\\n                <div class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\\n                <span class=\"corpus\"><i class=\"fa fa-text\"></i> Choose Custom Corpus</span>\\n                <span class=\"pull-right addmore\"><i class=\"fa fa-plus\"></i> Add</span>\\n              </div>\\n            </div>'), \"\\n  \\t\\t\\t\\t\\t\\t\\t\"), \"\\n  \\t\\t\\t\\t\\t\\t\\t\"), \"\\n              \"), \"\\n              \", HTML.DIV({\n    class: \"col-lg-6 col-md-6 col-sm-6 col-xs-6\"\n  }, \"\\n                \", HTML.Raw('<h3 class=\"text-primary\">Selected Texts</h3>'), HTML.Raw(\"<hr>\"), \"\\n                \", HTML.Raw(\"<p>This table shows the works selected from the text selection menu.  If you would like to remove a selection, just click the remove button.</p>\"), \"\\n                \", HTML.DIV({\n    class: \"table-responsive m-t-20\"\n  }, \"\\n                    \", HTML.TABLE({\n    class: \"table-responsive table table-striped\",\n    id: \"stylocorpus\"\n  }, \"\\n                        \", HTML.THEAD(\"\\n                            \", HTML.TR(\"\\n                                \", HTML.TH({\n    class: \"col-md-3 col-lg-3 col-sm-3\"\n  }, \"Author\"), \"\\n                                \", HTML.TH({\n    class: \"col-md-3 col-lg-3 col-sm-3\"\n  }, \"Text\"), \"\\n                                \", HTML.TH({\n    class: \"col-md-3 col-lg-3 col-sm-3\"\n  }, \"Book\"), \"\\n                                \", HTML.TH({\n    class: \"text-center\"\n  }, \"Action\"), \"\\n                            \"), \"\\n                        \"), \"\\n                        \", HTML.TBODY({\n    id: \"stylorows\"\n  }, \"\\n\\n                        \"), \"\\n                    \"), \"\\n                \"), \"\\n\\n                \", HTML.Raw('<ul id=\"dynamic-list\" class=\"p-l-0\"></ul>'), \"\\n              \"), \"\\n                \", HTML.Raw('<div class=\"row clearfix hidden-xs\">\\n\\n              </div>'), \"\\n              \", HTML.Raw('<div class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\\n                <h3 class=\"text-primary\">Feature Selection</h3><hr>\\n                <p>Select the stylometric features you would like computed below.  You have the option of selecting multiple features per category.</p>\\n              </div>'), \"\\n              \", HTML.Raw('<div class=\"col-lg-6\">\\n              <h5 class=\"m-t-20\">Pronouns</h5><hr>\\n              <div class=\"row clearfix\">\\n                <div class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\\n                  <div class=\"pronouns form-group form-group-default form-group-default-select2\">\\n                    <label>Select</label>\\n                    <select id=\"pronouns\" multiple=\"multiple\" name=\"pronouns\" class=\"pronouns full-width input-sm select2\">\\n                      <option value=\"p1\">Personal Pronouns</option>\\n                      <option value=\"p2\">Demonstrative Pronouns</option>\\n                      <option value=\"p3\"><i>Quidam</i></option>\\n                      <option value=\"p4\">Third-Person Pronouns</option>\\n                      <option value=\"p5\"><i>Iste</i></option>\\n                    </select>\\n                  </div>\\n                </div>\\n              </div>\\n\\n              <h5 class=\"m-t-20\">Non-Content Adjectives</h5><hr>\\n              <div class=\"row clearfix\">\\n                <div class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\\n                  <div class=\"adjectives form-group form-group-default form-group-default-select2\">\\n                    <label>Select</label>\\n                    <select id=\"adjectives\" multiple=\"multiple\" name=\"adjectives\" class=\"adjectives full-width input-sm select2\">\\n                      <option value=\"n1\">Alius</option>\\n                      <option value=\"n2\">Ipse</option>\\n                      <option value=\"n3\">Idem</option>\\n                    </select>\\n                  </div>\\n                </div>\\n              </div>\\n\\n              <h5 class=\"m-t-20\">Conjunctions</h5><hr>\\n              <div class=\"row clearfix\">\\n                <div class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\\n                  <div class=\"conjunctions form-group form-group-default form-group-default-select2\">\\n                    <label>Select</label>\\n                    <select id=\"conjunctions\" multiple=\"multiple\" name=\"conjunctions\" class=\"conjunctions full-width input-sm select2\">\\n                      <option value=\"c1\">Aggregate Frequency of Conjunctions</option>\\n                      <option value=\"c2\">Frequency of <i>Atque</i> followed by Consonant</option>\\n                    </select>\\n                  </div>\\n                </div>\\n              </div>\\n              </div>'), \"\\n\\n              \", HTML.Raw('<div class=\"col-lg-6\">\\n                <h5 class=\"m-t-20\">Subordinate Clauses</h5><hr>\\n                <div class=\"row clearfix\">\\n                  <div class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\\n                    <div class=\"subordinate form-group form-group-default form-group-default-select2\">\\n                      <label>Select</label>\\n                      <select id=\"subordinate\" multiple=\"multiple\" name=\"subordinate\" class=\"subordinate full-width input-sm select2\">\\n                        <option value=\"s1\">Conditional Clauses</option>\\n                        <option value=\"s2\"><i>Cum</i> Clauses</option>\\n                        <option value=\"s3\"><i>Quin</i> Clauses</option>\\n                        <option value=\"s4\"><i>Quominus</i> Clauses</option>\\n                        <option value=\"s5\"><i>Antequam</i> Clauses</option>\\n                        <option value=\"s6\"><i>Priusquam</i> Clauses</option>\\n                        <option value=\"s7\"><i>Dum</i> Clauses</option>\\n                        <option value=\"s8\">Fraction of Sentences (Relative Clauses)</option>\\n                        <option value=\"s9\">Mean (Relative Clauses)</option>\\n                      </select>\\n                    </div>\\n                  </div>\\n                </div>\\n\\n                <h5 class=\"m-t-20\">Miscellaneous</h5><hr>\\n                <div class=\"row clearfix\">\\n                  <div class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\\n                    <div class=\"miscellaneous form-group form-group-default form-group-default-select2\">\\n                      <label>Select</label>\\n                      <select id=\"miscellaneous\" multiple=\"multiple\" name=\"miscellaneous\" class=\"miscellaneous full-width input-sm select2\">\\n                        <option value=\"m1\">Interrogative Sentences</option>\\n                        <option value=\"m2\">Selected Vocatives</option>\\n                        <option value=\"m3\">Regular Superlative Adjectives &amp; Adverbs</option>\\n                        <option value=\"m4\">ut Clauses</option>\\n                        <option value=\"m5\">Selected Gerunds &amp; Gerundives</option>\\n                        <option value=\"m6\">Mean (Sentence Length)</option>\\n                        <option value=\"m7\">Aggregate Frequency of Prepositions</option>\\n                        <option value=\"m8\">Top 5 N-Grams</option>\\n                      </select>\\n                    </div>\\n                  </div>\\n                </div>\\n              </div>'), \"\\n              \", HTML.Raw('<div class=\"row clearfix\">\\n                <div class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\\n                  <button type=\"submit\" class=\"btn btn-primary btn-cons m-l-5 m-b-10 m-r-15 pull-right\"><i class=\"fa fa-search\"></i> Submit</button>\\n                  <button class=\"btn btn-success btn-cons m-b-10 reset pull-right\" type=\"button\"><i class=\"fa fa-refresh\"></i> Reset</button>\\n                </div>\\n  \\t\\t\\t\\t\\t\\t</div>'), \"\\n\\n                          \"), \"\\n\\n                      \"), \"\\n                    \")), \"\\n  \"), \"\\n  \", HTML.Raw('<div class=\"panel-footer\">\\n\\n  \\t\\t\\t\\t\\t\\t\\t</div>'), \"\\n\\n  \\t\\t\"), \"\\n  \\t\\t\"), \"\\n  \\t\"), \"\\n\\n    \", HTML.Raw('<div class=\"panel panel-transparent sloading\" style=\"display:none\">\\n  \\t\\t<div class=\"panel-body no-padding\">\\n  \\t\\t\\t<div id=\"portlet-advance\" class=\"panel panel-default\">\\n  \\t\\t\\t\\t<div class=\"panel-heading\">\\n\\n  \\t\\t\\t\\t</div>\\n  \\t\\t\\t\\t<div class=\"panel-body p-b-0 p-l-0 p-r-0\">\\n  \\t\\t\\t\\t\\t<div class=\"no-result loader-height\">\\n  \\t\\t\\t\\t\\t<center><h2>Analyzing Text</h2></center>\\n  \\t\\t\\t\\t\\t<div class=\"loader-wrapper p-t-50\">\\n  \\t\\t\\t\\t\\t\\t<div class=\"loader-container\">\\n  \\t\\t\\t\\t\\t\\t\\t<div class=\"line-scale-pulse-out loader-deep-orange\">\\n  \\t\\t\\t\\t\\t\\t\\t\\t<div></div>\\n  \\t\\t\\t\\t\\t\\t\\t\\t<div></div>\\n  \\t\\t\\t\\t\\t\\t\\t\\t<div></div>\\n  \\t\\t\\t\\t\\t\\t\\t\\t<div></div>\\n  \\t\\t\\t\\t\\t\\t\\t\\t<div></div>\\n  \\t\\t\\t\\t\\t\\t\\t</div>\\n  \\t\\t\\t\\t\\t\\t</div>\\n  \\t\\t\\t\\t\\t</div>\\n  \\t\\t\\t\\t\\t</div>\\n  \\t\\t\\t\\t</div>\\n  \\t\\t\\t\\t<div class=\"panel-footer\">\\n\\n  \\t\\t\\t\\t</div>\\n\\n  \\t\\t</div>\\n  \\t\\t</div>\\n  \\t</div>'), \"\\n\\n\\n\"), \"\\n\"), \"\\n\"), \"\\n\"), HTML.Raw('\\n\\n<div class=\"modal fade slide-up disable-scroll\" id=\"modal-compare\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"modalSlideUpLabel\" aria-hidden=\"false\">\\n  <div class=\"modal-dialog modal-lg\">\\n    <div class=\"modal-content\">\\n      <div class=\"modal-body\">\\n        <div class=\"container2\">\\n          <div class=\"row\">\\n            <div class=\"fcontainer col-lg-12 col-md-12 col-sm-12 col-xs-12\">\\n              <p>Select two features you would like to compare in a scatterplot.</p>\\n              <form id=\"comparef\">\\n              <div class=\"form-group m-t-20\">\\n                <div class=\"row clearfix\">\\n                  <div class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\\n                    <div class=\"form-group form-group-default form-group-default-select2\">\\n                      <label>Feature 1</label>\\n                      <select id=\"feature1\" name=\"feature1\" class=\"full-width input-sm feature1 select2\">\\n                        <option>Select Feature</option>\\n                        <option value=\"p1\">Frequency of Personal Pronouns</option>\\n                        <option value=\"p2\">Frequency of Demonstrative Pronouns</option>\\n                        <option value=\"p3\"><i>Frequency of Quidam</i></option>\\n                        <option value=\"p4\">Frequency of Third-Person Pronouns</option>\\n                        <option value=\"p5\"><i>Frequency of Iste</i></option>\\n                        <option value=\"n1\">Frequency of Alius</option>\\n                        <option value=\"n2\">Frequency of Ipse</option>\\n                        <option value=\"n3\">Frequency of Idem</option>\\n                        <option value=\"c1\">Aggregate Frequency of Conjunctions</option>\\n                        <option value=\"c2\">Frequency of <i>Atque</i> followed by Consonant</option>\\n                        <option value=\"s1\">Frequency of Conditional Clauses</option>\\n                        <option value=\"s2\">Frequency of <i>Cum</i> Clauses</option>\\n                        <option value=\"s3\">Frequency of <i>Quin</i> Clauses</option>\\n                        <option value=\"s4\">Frequency of <i>Quominus</i> Clauses</option>\\n                        <option value=\"s5\">Frequency of <i>Antequam</i> Clauses</option>\\n                        <option value=\"s6\">Frequency of <i>Priusquam</i> Clauses</option>\\n                        <option value=\"s7\">Frequency of <i>Dum</i> Clauses</option>\\n                        <option value=\"s8\">Fraction of Sentences (Relative Clauses)</option>\\n                        <option value=\"s9\">Mean (Relative Clauses)</option>\\n                        <option value=\"m1\">Frequency of Interrogative Sentences</option>\\n                        <option value=\"m2\">Frequency of Selected Vocatives</option>\\n                        <option value=\"m3\">Frequency of Regular Superlative Adjectives &amp; Adverbs</option>\\n                        <option value=\"m4\">Frequency of ut Clauses</option>\\n                        <option value=\"m5\">Frequency of Selected Gerunds &amp; Gerundives</option>\\n                        <option value=\"m6\">Mean (Sentence Length)</option>\\n                        <option value=\"m7\">Aggregate Frequency of Prepositions</option>\\n                      </select>\\n                    </div>\\n                  </div>\\n                </div>\\n                <div class=\"row clearfix\">\\n                  <div class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\\n                    <div class=\"ftext form-group form-group-default form-group-default-select2\">\\n                      <label>Feature 2</label>\\n                      <select id=\"feature2\" name=\"feature2\" class=\"feature2 full-width input-sm select2\">\\n                        <option>Select Feature</option>\\n                        <option value=\"p1\">Frequency of Personal Pronouns</option>\\n                        <option value=\"p2\">Frequency of Demonstrative Pronouns</option>\\n                        <option value=\"p3\"><i>Frequency of Quidam</i></option>\\n                        <option value=\"p4\">Frequency of Third-Person Pronouns</option>\\n                        <option value=\"p5\"><i>Frequency of Iste</i></option>\\n                        <option value=\"n1\">Frequency of Alius</option>\\n                        <option value=\"n2\">Frequency of Ipse</option>\\n                        <option value=\"n3\">Frequency of Idem</option>\\n                        <option value=\"c1\">Aggregate Frequency of Conjunctions</option>\\n                        <option value=\"c2\">Frequency of <i>Atque</i> followed by Consonant</option>\\n                        <option value=\"s1\">Frequency of Conditional Clauses</option>\\n                        <option value=\"s2\">Frequency of <i>Cum</i> Clauses</option>\\n                        <option value=\"s3\">Frequency of <i>Quin</i> Clauses</option>\\n                        <option value=\"s4\">Frequency of <i>Quominus</i> Clauses</option>\\n                        <option value=\"s5\">Frequency of <i>Antequam</i> Clauses</option>\\n                        <option value=\"s6\">Frequency of <i>Priusquam</i> Clauses</option>\\n                        <option value=\"s7\">Frequency of <i>Dum</i> Clauses</option>\\n                        <option value=\"s8\">Fraction of Sentences (Relative Clauses)</option>\\n                        <option value=\"s9\">Mean (Relative Clauses)</option>\\n                        <option value=\"m1\">Frequency of Interrogative Sentences</option>\\n                        <option value=\"m2\">Frequency of Selected Vocatives</option>\\n                        <option value=\"m3\">Frequency of Regular Superlative Adjectives &amp; Adverbs</option>\\n                        <option value=\"m4\">Frequency of ut Clauses</option>\\n                        <option value=\"m5\">Frequency of Selected Gerunds &amp; Gerundives</option>\\n                        <option value=\"m6\">Mean (Sentence Length)</option>\\n                        <option value=\"m7\">Aggregate Frequency of Prepositions</option>\\n                      </select>\\n                    </div>\\n                  </div>\\n                </div>\\n                <div class=\"row clearfix\">\\n                  <div class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\\n                    <button type=\"submit\" class=\"btn btn-primary btn-cons m-l-5 m-b-10 m-r-15 pull-right\"><i class=\"fa fa-search\"></i> Submit</button>\\n                    <button class=\"btn btn-success btn-cons m-b-10 reset pull-right\" type=\"button\"><i class=\"fa fa-refresh\"></i> Reset</button>\\n                  </div>\\n    \\t\\t\\t\\t\\t\\t</div>\\n           </div>\\n         </form>\\n         </div>\\n       </div>\\n     </div>\\n   </div>\\n </div>\\n</div>\\n</div>') ];\n}));\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"sresults.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/pages/sresults.js                                                                                        //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nmodule.watch(require(\"./sresults.html\"));\nvar csv;\nmodule.watch(require(\"to-csv\"), {\n  \"default\": function (v) {\n    csv = v;\n  }\n}, 0);\nvar allF = [{\n  name: \"Personal Pronouns\",\n  feature: \"p1\"\n}, {\n  name: \"Demonstrative Pronouns\",\n  feature: \"p2\"\n}, {\n  name: \"Quidam\",\n  feature: \"p3\"\n}, {\n  name: \"Reflexive Pronouns\",\n  feature: \"p4\"\n}, {\n  name: \"Iste\",\n  feature: \"p5\"\n}, {\n  name: \"Alius\",\n  feature: \"n1\"\n}, {\n  name: \"Ipse\",\n  feature: \"n2\"\n}, {\n  name: \"Idem\",\n  feature: \"n3\"\n}, {\n  name: \"Priusquam\",\n  feature: \"s6\"\n}, {\n  name: \"Antequam\",\n  feature: \"s5\"\n}, {\n  name: \"Quominus\",\n  feature: \"s4\"\n}, {\n  name: \"Dum\",\n  feature: \"s7\"\n}, {\n  name: \"Quin\",\n  feature: \"s3\"\n}, {\n  name: \"Ut\",\n  feature: \"m4\"\n}, {\n  name: \"Conditionals\",\n  feature: \"s1\"\n}, {\n  name: \"Prepositions\",\n  feature: \"m7\"\n}, {\n  name: \"Conjunctions\",\n  feature: \"c1\"\n}, {\n  name: \"Atque + consonant\",\n  feature: \"c2\"\n}, {\n  name: \"Cum\",\n  feature: \"s2\"\n}, {\n  name: \"Relative Clauses\",\n  feature: \"s8\"\n}, {\n  name: \"Mean Length Relative Clauses\",\n  feature: \"s9\"\n}, {\n  name: \"Interrogative Sentences\",\n  feature: \"m1\"\n}, {\n  name: \"Vocatives\",\n  feature: \"m2\"\n}, {\n  name: \"Superlatives\",\n  feature: \"m3\"\n}, {\n  name: \"Gerunds and Gerundives\",\n  feature: \"m5\"\n}, {\n  name: \"Mean Sentence Length\",\n  feature: \"m6\"\n}, {\n  name: \"Top 5 Ngrams\",\n  feature: \"m8\"\n}];\nvar nameObject = {\n  name: \"Corpus Name\",\n  sentences: \"Sentences\",\n  words: \"Words\",\n  characters: \"Characters\",\n  p1: \"Personal Pronouns\",\n  p2: \"Demonstrative Pronouns\",\n  p3: \"Quidam\",\n  p4: \"Reflexive Pronouns\",\n  p5: \"Iste\",\n  n1: \"Alius\",\n  n2: \"Ipse\",\n  n3: \"Idem\",\n  s6: \"Priusquam\",\n  s5: \"Antequam\",\n  s4: \"Quominus\",\n  s7: \"Dum\",\n  s3: \"Quin\",\n  m4: \"Ut\",\n  s1: \"Conditionals\",\n  m7: \"Prepositions\",\n  c1: \"Conjunctions\",\n  c2: \"Atque + consonant\",\n  s2: \"Cum\",\n  s8: \"Relative Clauses\",\n  s9: \"Mean Length Relative Clauses\",\n  m1: \"Interrogative Sentences\",\n  m2: \"Vocatives\",\n  m3: \"Superlatives\",\n  m5: \"Gerunds and Gerundives\",\n  m6: \"Mean Sentence Length\",\n  m8: \"Top 5 Ngrams\"\n};\n\nvar renameObject = function (o) {\n  return Object.assign.apply(Object, (0, _toConsumableArray2.default)(Object.keys(o).map(function (k) {\n    var _ref;\n\n    return _ref = {}, _ref[nameObject[k] || k] = o[k], _ref;\n  })));\n};\n\nvar hexToRGB = function (hex, alpha) {\n  var r = parseInt(hex.slice(1, 3), 16),\n      g = parseInt(hex.slice(3, 5), 16),\n      b = parseInt(hex.slice(5, 7), 16);\n\n  if (alpha) {\n    return \"rgba(\" + r + \", \" + g + \", \" + b + \", \" + alpha + \")\";\n  } else {\n    return \"rgb(\" + r + \", \" + g + \", \" + b + \")\";\n  }\n};\n\nvar htmlLabels = function () {\n  var dy = [];\n  var featureLength = allF.length;\n  var featureArray = Session.get(\"features\");\n\n  for (var i = 0; i < fl; i++) {\n    var _col = {};\n\n    if (farray.includes(allF[i].feature)) {\n      _col.header = allF[i].name;\n      _col.description = allF[i].name;\n      _col.feature = allF[i].feature;\n      dy.push(_col);\n    }\n  }\n\n  return dy;\n};\n\nvar scatterColors = [\"#702c39\", \"#b7c1c3\", \"#702c39\", \"#868e96\", \"#6610f2\"];\n\nvar generateCompareData = function (data) {\n  var results = Session.get(\"styloresult\");\n  var feature1 = data[0];\n  var feature2 = data[1];\n  var sData = [];\n\n  for (var i = 0; i < results.length; i++) {\n    var _col2 = {};\n    _col2.label = results[i].name;\n    _col2.backgroundColor = hexToRGB(scatterColors[i], 0.85);\n    _col2.data = [{\n      x: results[i][feature1],\n      y: results[i][feature2],\n      r: 10\n    }];\n    _col2.hoverBackgroundColor = \"#007bff\";\n    sData.push(_col2);\n  }\n\n  return sData;\n};\n\nvar generateScatterChart = function (element, data) {\n  var mychart = document.getElementById(\"scatterChart\").getContext(\"2d\");\n  var bbdata = {\n    datasets: data\n  };\n  module.dynamicImport(\"chart.js\").then(function (_ref2) {\n    var Chart = _ref2.default;\n    new Chart(mychart, {\n      type: \"bubble\",\n      data: bbdata,\n      options: {\n        maintainAspectRatio: false,\n        scales: {\n          xAxes: [{\n            display: true,\n            scaleLabel: {\n              labelString: Session.get(\"compareLabels\")[1],\n              display: true\n            },\n            ticks: {\n              beginAtZero: true\n            }\n          }],\n          yAxes: [{\n            display: true,\n            scaleLabel: {\n              labelString: Session.get(\"compareLabels\")[0],\n              display: true\n            },\n            ticks: {\n              beginAtZero: true,\n              steps: 0.1,\n              stepValue: 0.05\n            }\n          }]\n        }\n      }\n    });\n  });\n};\n\nTemplate.sresults.events({\n  \"click #graphs\": function (event) {\n    event.preventDefault();\n    var controller = Iron.controller();\n    controller.render(\"stylometrygraph\", {\n      to: \"stylooption\"\n    });\n    $(\"#graphs\").hide();\n    $(\"#table\").show();\n  },\n  \"click .saveResult\": function (event) {\n    $(\"#exportModal\").modal({\n      backdrop: \"static\",\n      keyboard: false\n    });\n  },\n  \"click #closeExportModal\": function (event) {\n    document.getElementById(\"saveResultForm\").reset();\n    $(\"#exportModal\").modal(\"hide\");\n  },\n  \"click #exportResult\": function (event, template) {\n    event.preventDefault();\n    var target = event.target;\n    var fileName = $(\"#fileName\").val();\n    var analysisResults = Session.get(\"styloresult\");\n    var data = analysisResults.map(renameObject);\n    var csvString = csv(data);\n\n    if (window.navigator.msSaveOrOpenBlob) {\n      var blob = new Blob([csvString]);\n      window.navigator.msSaveOrOpenBlob(blob, fileName + \".csv\");\n    } else {\n      var a = document.createElement(\"a\");\n      a.href = \"data:attachment/csv,\" + encodeURIComponent(csvString);\n      a.target = \"_blank\";\n      a.download = fileName + \".csv\";\n      document.body.appendChild(a);\n      a.click();\n    }\n\n    document.getElementById(\"saveResultForm\").reset();\n    $(\"#exportModal\").modal(\"hide\");\n  },\n  \"click #table\": function (event) {\n    event.preventDefault();\n    var controller = Iron.controller();\n    controller.render(\"stylometrytable\", {\n      to: \"stylooption\"\n    });\n    $(\"#table\").hide();\n    $(\"#graphs\").show();\n  },\n  \"click #compare\": function (event) {\n    event.preventDefault();\n    var controller = Iron.controller();\n    controller.render(\"compareFeatures\", {\n      to: \"stylooption\"\n    });\n    $(\"#table\").show();\n  },\n  \"click .newsearch\": function (event, template) {\n    Session.set(\"styloresult\", null);\n    $(\"#stable\").empty();\n    Router.go(\"/stylometry\");\n  }\n});\nTemplate.compareFeatures.events({\n  \"submit #compareFeaturesForm\": function (event, template) {\n    event.preventDefault();\n    var target = event.target;\n    var selectedFeatures = [];\n    var frequencyLength = allF.length;\n    selectedFeatures.push(target.feature1.value);\n    selectedFeatures.push(target.feature2.value);\n    $(\"#compareSelect\").hide();\n    $(\"#compareView\").show();\n    var compareNames = [];\n\n    for (var b = 0; b < frequencyLength; b++) {\n      if (selectedFeatures.includes(allF[b].feature)) {\n        compareNames.push(allF[b].name);\n      }\n    }\n\n    Session.set(\"compareLabels\", compareNames);\n    var compareData = generateCompareData(selectedFeatures);\n    generateScatterChart(\"#scatterChart\", compareData);\n  }\n});\nTemplate.compareFeatures.onRendered(function () {\n  $(\".select2\").select2({\n    minimumResultsForSearch: 2,\n    width: \"100%\",\n    placeholder: \"Select Feature\",\n    matcher: function (term, text) {\n      return text.toUpperCase().indexOf(term.toUpperCase()) == 0;\n    }\n  });\n  $(\".select2[name=feature1]\").on(\"change\", function (e) {\n    var thisVal = $(this).val();\n    $(\".select2[name=feature2] option\").each(function () {\n      if (thisVal == $(this).attr(\"value\")) {\n        $(this).attr(\"disabled\", \"disabled\");\n      } else {\n        $(this).removeAttr(\"disabled\");\n      }\n    });\n  });\n  $(\".select2[name=feature2]\").on(\"change\", function (e) {\n    var thisVal = $(this).val();\n    $(\".select2[name=feature1] option\").each(function () {\n      if (thisVal == $(this).attr(\"value\")) {\n        $(this).attr(\"disabled\", \"disabled\");\n      } else {\n        $(this).removeAttr(\"disabled\");\n      }\n    });\n  });\n});\nTemplate.stylometrygraph.onRendered(function () {\n  $(\".toplevel\").fadeIn(\"slow\");\n  var featureArray = Session.get(\"features\");\n  var data = Session.get(\"styloresult\");\n  var cdata = data;\n  var f1label = cdata.map(function (x) {\n    return x.name;\n  });\n  var fl = allF.length;\n\n  var generateData = function (feature) {\n    var dydata = cdata.map(function (x) {\n      return x[feature];\n    });\n    var bdata = [];\n\n    for (var i = 0; i < cdata.length; i++) {\n      var _col3 = {};\n      _col3.label = cdata[i].name;\n      _col3.data = [dydata[i]];\n      _col3.fill = true;\n      _col3.borderWidth = 2;\n      _col3.backgroundColor = \"rgba(112,44,57,0.4)\";\n      _col3.borderColor = \"#702c39\";\n      bdata.push(_col3);\n    }\n\n    return bdata;\n  };\n\n  var dynamicCharts = [];\n\n  for (var b = 0; b < fl; b++) {\n    var ch = {};\n\n    if (farray.includes(allF[b].feature)) {\n      ch.data = allF[b].feature;\n      ch.title = allF[b].name;\n      dynamicCharts.push(ch);\n    }\n  }\n\n  farray.forEach(function (x) {\n    generateBarChart(\"#\" + x, f1label, generateData(x));\n  });\n\n  function generateBarChart(element, labels, data) {\n    var mychart = $(element);\n    var bbdata = {\n      labels: labels,\n      datasets: data\n    };\n    module.dynamicImport(\"chart.js\").then(function (_ref3) {\n      var Chart = _ref3.default;\n      new Chart(mychart, {\n        type: \"bar\",\n        data: bbdata,\n        options: {\n          responsive: true,\n          maintainAspectRatio: false,\n          scales: {\n            xAxes: [{\n              barPercentage: 0.4,\n              categoryPercentage: 1\n            }],\n            yAxes: [{\n              ticks: {\n                beginAtZero: true\n              }\n            }]\n          },\n          legend: {\n            display: false\n          },\n          tooltips: {\n            callbacks: {\n              title: function () {}\n            }\n          }\n        }\n      });\n    });\n  }\n});\nTemplate.stylometrytable.onRendered(function () {\n  $(\".toplevel\").fadeIn(\"slow\");\n  var farray = Session.get(\"features\");\n  var dynamicColumns = [{\n    data: \"name\",\n    title: \"Corpus\"\n  }, {\n    data: \"words\",\n    title: \"Words\"\n  }, {\n    data: \"characters\",\n    title: \"Characters\"\n  }];\n  var fl = allF.length;\n\n  for (var i = 0; i < fl; i++) {\n    var _col4 = {};\n\n    if (farray.includes(allF[i].feature)) {\n      _col4.data = allF[i].feature;\n      _col4.title = allF[i].name;\n      dynamicColumns.push(_col4);\n    }\n  }\n\n  var data = Session.get(\"styloresult\");\n  var cdata = data;\n  var container = document.getElementById(\"stable\");\n  module.dynamicImport(\"../hands.js\").then(function (_ref4) {\n    var Handsontable = _ref4.default;\n    var hot_init = new Handsontable(container, {\n      data: data,\n      columns: dynamicColumns,\n      rowHeaders: true,\n      fixedColumnsLeft: 2,\n      columnSorting: true,\n      stretchH: \"all\"\n    });\n  });\n});\nTemplate.stylometrygraph.helpers({\n  nocharts: function () {\n    return htmlLabels();\n  }\n});\nTemplate.compareFeatures.helpers({\n  comparefeatures: function () {\n    var col = [];\n    var frequencyLength = allF.length;\n    var carray = Session.get(\"features\");\n\n    for (var i = 0; i < frequencyLength; i++) {\n      var select = {};\n\n      if (carray.includes(allF[i].feature)) {\n        select.value = allF[i].feature;\n        select.name = allF[i].name;\n        col.push(select);\n      }\n    }\n\n    return col;\n  }\n});\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"stylometry.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/pages/stylometry.js                                                                                      //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.watch(require(\"./stylometry.html\"));\nvar naturalSort;\nmodule.watch(require(\"./helpers.js\"), {\n  naturalSort: function (v) {\n    naturalSort = v;\n  }\n}, 0);\nvar addclass = \"stylo_sel\";\nvar count = 0;\nvar aarray = [];\nvar tarray = [];\nvar barray = [];\nvar featureArray = [];\nvar tempArray = [\"p1\", \"p2\", \"p3\", \"p4\", \"p5\", \"n1\", \"n2\", \"n3\", \"s1\", \"s2\", \"s3\", \"s4\", \"s5\", \"s6\", \"s7\", \"s8\", \"s9\", \"m1\", \"m2\", \"m3\", \"m4\", \"m5\", \"m6\", \"m7\", \"m8\", \"c1\", \"c2\"];\nTemplate.stylometry.events({\n  \"click .stylo_sec\": function (e) {\n    var id = e.currentTarget.id;\n    $(\"#\" + id).toggleClass(\"stylo_sel\");\n  },\n  \"click #graphs\": function (event) {\n    event.preventDefault();\n    var controller = Iron.controller();\n    controller.render(\"stylometrygraph\", {\n      to: \"stylooption\"\n    });\n    $(\"#graphs\").hide();\n    $(\"#table\").show();\n  },\n  \"click #table\": function (event) {\n    event.preventDefault();\n    var controller = Iron.controller();\n    controller.render(\"stylometrytable\", {\n      to: \"stylooption\"\n    });\n    $(\"#table\").hide();\n    $(\"#graphs\").show();\n  },\n  \"click .newsearch\": function (event, template) {\n    Session.set(\"styloresult\", null);\n    $(\"#stable\").empty();\n    $(\".sresult\").hide();\n    $(\".ssearch\").show();\n  },\n  \"click .addmore\": function (event, template) {\n    var ul = document.getElementById(\"dynamic-list\");\n    var candidate = document.getElementById(\"fauthor\");\n    var candidate2 = document.getElementById(\"ftext\");\n    var candidate3 = document.getElementById(\"fbook\");\n    count += 1;\n    tarray.push(candidate2.value);\n    aarray.push(candidate.value);\n    barray.push(candidate3.value);\n    $(\"#stylocorpus\").append('<tr class=\"list\"><td data-name=' + candidate.value + \">\" + candidate.value + \"</td><td data-name=\" + candidate2.value + \">\" + candidate2.value + \"</td><td data-name=\" + candidate3.value + \">\" + candidate3.value + '</td><td class=\"text-center\"><button type=\"button\" class=\"btn btn-info remove\" id=\"delete\"><i class=\"fa fa-trash\"></i> Remove</button></td></tr>');\n    $(\"#fauthor\").select2(\"data\", null);\n    $(\"#fbook\").select2(\"data\", null);\n    $(\"#ftext\").select2(\"data\", null);\n    $(\".ftext\").addClass(\"disabled\");\n    $(\"#ftext\").prop(\"disabled\", true);\n    $(\".fbook\").addClass(\"disabled\");\n    $(\"#fbook\").prop(\"disabled\", true);\n  },\n  \"submit #fsearch\": function (event, template) {\n    event.preventDefault();\n    var target = event.target;\n    var author = $(\"#fauthor :selected\").val();\n    var book = $(\"#fbook :selected\").val();\n    var text = $(\"#ftext :selected\").val();\n    var farrays = tempArray;\n    farrays.push($(\"#pronouns\").val());\n    farrays.push($(\"#adjectives\").val());\n    farrays.push($(\"#conjunctions\").val());\n    farrays.push($(\"#subordinate\").val());\n    farrays.push($(\"#miscellaneous\").val());\n    var farray = [].concat.apply([], farrays);\n    Session.set(\"features\", farray);\n    var filumdata = {\n      author: aarray,\n      text: tarray,\n      book: barray\n    };\n    var features = {\n      feature: farray\n    };\n    $(\".ssearch\").hide();\n    $(\".sloading\").show();\n    Meteor.call(\"stylometryf\", filumdata, features, function (error, result) {\n      if (error) {\n        Bert.alert(\"Error, please re-try!\", \"danger\", \"growl-top-right\");\n        console.log(error);\n        $(\".sloading\").hide();\n        $(\".ssearch\").show();\n      } else {\n        Session.set(\"styloresult\", result);\n        Router.go(\"/sresults\");\n      }\n    });\n  },\n  \"click .remove\": function (event, template) {\n    event.preventDefault();\n    var target = event.target;\n    var rname = $(target).data(\"name\");\n    var sname = $(target).data(\"sub\");\n    var a = narray.indexOf(rname);\n    var t = narray.indexOf(sname);\n    $(target).closest(\"tr\").remove(this.id);\n    aarray.splice(a, 1);\n    tarray.splice(t, 1);\n    barray.splice(b, 1);\n    count -= 1;\n  }\n});\nTemplate.stylometry.onRendered(function () {\n  aarray = [];\n  tarray = [];\n  barray = [];\n  $(\"#arows\").on(\"click\", \".delete\", function () {\n    $(this).closest(\"tr\").remove();\n  });\n  $(\"#fauthor\").on(\"change\", function (e) {\n    var target = e.target;\n    var author = $(\"#fauthor :selected\").val();\n    Meteor.call(\"filumtexts\", author, function (error, result) {\n      Session.set(\"filumtexts\", result);\n      $(\"#ftext\").prop(\"disabled\", false);\n      $(\".ftext\").removeClass(\"disabled\");\n    });\n  });\n  $(\"#ftext\").on(\"change\", function (e) {\n    var target = e.target;\n    var author = $(\"#fauthor :selected\").val();\n    var text = $(\"#ftext :selected\").val();\n    Meteor.call(\"filumbooks\", author, text, function (error, result) {\n      sort = result.sort(naturalSort);\n      Session.set(\"filumbooks\", sort);\n      $(\"#fbook\").prop(\"disabled\", false);\n      $(\".fbook\").removeClass(\"disabled\");\n    });\n  });\n});\nTemplate.stylometry.helpers({\n  authors: function () {\n    return Session.get(\"filumauthors\");\n  },\n  texts: function () {\n    return Session.get(\"filumtexts\");\n  },\n  books: function () {\n    return Session.get(\"filumbooks\");\n  },\n  removepart: function (a1) {\n    if (a1) return a1.replace(\"Part \", \"\");\n  },\n  sigfig: function (a1) {\n    if (a1) return a1.toFixed(3);\n  }\n});\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"layouts\":{\"main.html\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/layouts/main.html                                                                                        //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.watch(require(\"./template.main.js\"), {\n  \"*\": module.makeNsSetter(true)\n});\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"template.main.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/layouts/template.main.js                                                                                 //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n\nTemplate.__checkName(\"mainlayout\");\nTemplate[\"mainlayout\"] = new Template(\"Template.mainlayout\", (function() {\n  var view = this;\n  return [ HTML.HEADER(\"\\n            \", HTML.NAV({\n    class: \"navbar navbar-inverse\",\n    role: \"navigation\"\n  }, \"\\n                \", HTML.DIV(\"\\n                    \", HTML.Raw('<div class=\"navbar-header\">\\n                        <button type=\"button\" class=\"navbar-toggle\" data-toggle=\"collapse\" data-target=\".navbar-ex1-collapse\">\\n                            <span class=\"sr-only\">Toggle navigation</span>\\n                            <span class=\"icon-bar\"></span>\\n                            <span class=\"icon-bar\"></span>\\n                            <span class=\"icon-bar\"></span>\\n                        </button>\\n                        <a class=\"navbar-brand\" href=\"/\">\\n                            <img class=\"img-responsive\" src=\"/Images/logo4.svg\" alt=\"\">\\n                        </a>\\n                    </div>'), \"\\n                    \", HTML.DIV({\n    class: \"collapse navbar-collapse navbar-ex1-collapse\",\n    id: \"navbar\"\n  }, \"\\n                        \", HTML.UL({\n    class: \"nav navbar-nav navbar-justify\"\n  }, \"\\n                            \", HTML.Raw('<li class=\"dropdown\">\\n                                <a href=\"/research\">Research<b class=\"caret\"></b></a>\\n                                <b class=\"caret-m dropdown-toggle\" data-toggle=\"collapse\" data-target=\".dropdown-menu-1\"><i class=\"fa fa-angle-double-down\"></i></b>\\n                                <ul class=\"dropdown-menu dropdown-menu-1 collapse\">\\n                                  <li><a href=\"/researchdetail/NqDvP8zJEQcKnooLc\">Intertextuality</a></li>\\n                                  <li><a href=\"/researchdetail/kHXib8DissfMp53Yx\">Stylometry</a></li>\\n                                  <li><a href=\"/researchdetail/k7NNGL4mwwEY8bpJu\">Reception</a></li>\\n                                  <li><a href=\"/researchdetail/rG2GeGsNo3csXpwgb\">Theory</a></li>\\n                                  <li><a href=\"/researchdetail/cn9crz997iLMioHa9\">History of QCL</a></li>\\n                                </ul>\\n                            </li>'), \"\\n                            \", HTML.Raw('<li class=\"dropdown\">\\n                                <a href=\"#\">Tools<b class=\"caret\"></b></a>\\n                                <b class=\"caret-m dropdown-toggle\" data-toggle=\"collapse\" data-target=\".dropdown-menu-2\"><i class=\"fa fa-angle-double-down\"></i></b>\\n                                <ul class=\"dropdown-menu dropdown-menu-2 collapse\">\\n                                    <li><a href=\"/filum\">Flum</a></li>\\n                                    <li><a href=\"/stylometry\">Stylometry</a></li>\\n                                </ul>\\n                            </li>'), \"\\n                            \", HTML.Raw('<li><a href=\"/publications\">Publications</a></li>'), \"\\n                            \", HTML.Raw('<li><a href=\"/people\">People</a></li>'), \"\\n                            \", HTML.Raw('<li><a href=\"/outreach\">Outreach</a></li>'), \"\\n                            \", HTML.Raw('<li><a href=\"/news/1\">News</a></li>'), \"\\n                            \", HTML.Raw('<li><a href=\"/contact\">Contact</a></li>'), \"\\n\\t\\t\\t\\t\\t\\t\\t\", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"isgad\"));\n  }, function() {\n    return [ \"\\n\\t\\t\\t\\t\\t\\t\\t\", HTML.LI({\n      class: \"dropdown\"\n    }, \"\\n                                \", HTML.A({\n      href: \"/dashboard\",\n      onclick: \"return false;\",\n      class: \"dropdown-toggle\",\n      \"data-toggle\": \"dropdown\",\n      role: \"button\",\n      \"aria-expanded\": \"false\",\n      style: \"color: #702c39;\"\n    }, \"\\n                                    \", HTML.I({\n      class: \"fa fa-user\",\n      \"aria-hidden\": \"true\"\n    }), \" Admin\"), \"\\n                                \", HTML.UL({\n      class: \"dropdown-menu\",\n      role: \"menu\"\n    }, \"\\n                                    \", HTML.LI(HTML.A({\n      href: \"/admin/dashboard\"\n    }, \"Dashboard\")), \"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\", HTML.LI(HTML.A({\n      href: \"/admin/pagelist\"\n    }, \"CMS Pages\")), \"\\n                                    \", HTML.LI(HTML.A({\n      href: \"/admin/homemanagement\"\n    }, \"Home Management\")), \"\\n                                    \", HTML.LI(HTML.A({\n      href: \"/admin/researchlist\"\n    }, \"Research\")), \"\\n                                    \", HTML.LI(HTML.A({\n      href: \"/admin/journallist\"\n    }, \"Journal Articles\")), \"\\n                                    \", HTML.LI(HTML.A({\n      href: \"/admin/newslist\"\n    }, \"News\")), \"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\", HTML.LI(HTML.A({\n      href: \"/admin/filumlist\"\n    }, \"Filum List\")), \"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\", HTML.LI(HTML.A({\n      href: \"/admin/filumsearchlist\"\n    }, \"Filum Results\")), \"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\", HTML.LI(HTML.A({\n      href: \"/admin/peoplemanagelist\"\n    }, \"People\")), \"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\", HTML.LI(HTML.A({\n      href: \"/admin/configuremanagement\"\n    }, \"Site Configuration\")), \"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\", HTML.LI(HTML.A({\n      href: \"/profile\"\n    }, \"My Profile\")), \"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\", HTML.LI(HTML.A({\n      href: \"/admin/help\"\n    }, \"Help\")), \"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\", HTML.LI(HTML.A({\n      href: \"/admin/anagramsearchlist\"\n    }, \"Anagram Results\")), \"\\n                                    \", HTML.LI(HTML.A({\n      href: \"#\",\n      class: \"dropdown-toggle logout\",\n      \"data-toggle\": \"dropdown\",\n      role: \"button\",\n      \"aria-expanded\": \"false\",\n      style: \"color: #fff;\"\n    }, \"Log Out\")), \"\\n                                \"), \"\\n                            \"), \"\\n\\t\\t\\t\\t\\t\\t\\t\" ];\n  }, function() {\n    return Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"currentUser\"));\n    }, function() {\n      return [ \"\\n                            \", HTML.LI({\n        class: \"dropdown\"\n      }, \"\\n                                \", HTML.A({\n        href: \"/profile\",\n        onclick: \"return false;\",\n        class: \"dropdown-toggle\",\n        \"data-toggle\": \"dropdown\",\n        role: \"button\",\n        \"aria-expanded\": \"false\",\n        style: \"color: #702c39;\"\n      }, \"\\n                                    \", HTML.I({\n        class: \"fa fa-user\",\n        \"aria-hidden\": \"true\"\n      }), \" \", Blaze.View(\"lookup:currentUser.profile.firstname\", function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"currentUser\"), \"profile\", \"firstname\"));\n      }), \" \", Blaze.View(\"lookup:currentUser.profile.lastname\", function() {\n        return Spacebars.mustache(Spacebars.dot(view.lookup(\"currentUser\"), \"profile\", \"lastname\"));\n      }), \"\\n                                \"), \"\\n                                \", HTML.UL({\n        class: \"dropdown-menu\",\n        role: \"menu\"\n      }, \"\\n                                    \", HTML.LI(HTML.A({\n        href: \"/profile\"\n      }, \"My Profile\")), \"\\n                                    \", HTML.LI(HTML.A({\n        href: \"#\",\n        class: \"dropdown-toggle logout\",\n        \"data-toggle\": \"dropdown\",\n        role: \"button\",\n        \"aria-expanded\": \"false\",\n        style: \"color: #fff;\"\n      }, \"Log Out\")), \"\\n                                \"), \"\\n                            \"), \"\\n\\t\\t\\t\\t\\t\\t\\t\" ];\n    }, function() {\n      return [ \"\\n\\t\\t\\t\\t\\t\\t\\t\", HTML.LI({\n        class: \"dropdown\"\n      }, \"\\n                                \", HTML.A({\n        href: \"login\"\n      }, \"Login\", HTML.B({\n        class: \"caret\"\n      })), \"\\n                                \", HTML.B({\n        class: \"caret-m dropdown-toggle\",\n        \"data-toggle\": \"collapse\",\n        \"data-target\": \".dropdown-menu-3\"\n      }, HTML.I({\n        class: \"fa fa-angle-double-down\"\n      })), \"\\n                                \", HTML.UL({\n        class: \"dropdown-menu dropdown-menu-3 collapse\"\n      }, \"\\n                                    \", HTML.LI(HTML.A({\n        href: \"/login\"\n      }, \"Login\")), \"\\n                                    \", HTML.LI(HTML.A({\n        href: \"/register\"\n      }, \"Register\")), \"\\n                                \"), \"\\n                            \"), \"\\n\\t\\t\\t\\t\\t\\t\\t\" ];\n    });\n  }), \"\\n                        \"), \"\\n                    \"), \"\\n                \"), \"\\n            \"), \"\\n    \"), \"\\n\\t     \", Spacebars.include(view.lookupTemplate(\"yield\")), \"\\n    \", HTML.FOOTER(\"\\n        \", HTML.DIV({\n    class: \"bottom-footer\"\n  }, \"\\n            \", HTML.DIV({\n    class: \"container\"\n  }, \"\\n                \", HTML.DIV({\n    class: \"row\"\n  }, \"\\n                    \", HTML.DIV({\n    class: \"col-lg-12 col-md-12 col-sm-12 no-pad\"\n  }, \"\\n                        \", HTML.DIV({\n    class: \"copyright_block\",\n    id: \"footertemplate\"\n  }, \"\\n\\t\\t\\t\\t\\t\\t\", Blaze.View(\"lookup:config.copyright\", function() {\n    return Spacebars.mustache(Spacebars.dot(view.lookup(\"config\"), \"copyright\"));\n  }), \" | \", Blaze.View(\"lookup:config.footertext\", function() {\n    return Spacebars.makeRaw(Spacebars.mustache(Spacebars.dot(view.lookup(\"config\"), \"footertext\")));\n  }), \"\\n                        \"), \"\\n                    \"), \"\\n                \"), \"\\n            \"), \"\\n        \"), \"\\n    \"), \"\\n\", HTML.STYLE(\"\\n        header {\\n            margin-bottom: 0 !important;\\n        }\\n\\n        .selected {\\n            border: 1px solid #888;\\n            background-color: #0ff;\\n        }\\n    \"), HTML.Raw('\\n\\n\\t<div class=\"modal fade slide-up disable-scroll\" id=\"modal-login\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"modalSlideUpLabel\" aria-hidden=\"false\">\\n\\t\\t<div class=\"modal-dialog\">\\n\\t\\t\\t<div class=\"modal-content\">\\n\\t\\t\\t\\t<div class=\"modal-body\">\\n\\t\\t\\t\\t\\t<div class=\"panel panel-transparent\">\\n\\t\\t\\t\\t\\t<div class=\"panel-body no-padding\">\\n\\t\\t\\t\\t\\t<div id=\"portlet-advance\" class=\"panel panel-default\">\\n\\t\\t\\t\\t\\t<div class=\"panel-heading\">\\n\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\"panel-body\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t  <div class=\"row row-same-height\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\"p-l-50 m-l-20 p-r-50 m-r-20 sm-p-l-15 sm-p-r-15 sm-p-t-40\">\\n\\t\\t\\t\\t\\t\\t <h3 class=\"p-t-10\">To use this feature, please login.  If you do not have an account, please register for one.</h3>\\n\\t\\t\\t\\t\\t<p class=\"p-t-35\">Sign into your account</p>\\n\\t\\t\\t\\t\\t<form id=\"login\" class=\"p-t-15\" role=\"form\">\\n\\t\\t\\t\\t\\t<div class=\"form-group form-group-default\">\\n\\t\\t\\t\\t\\t<label>Login</label>\\n\\t\\t\\t\\t\\t<div class=\"controls\">\\n\\t\\t\\t\\t\\t<input type=\"text\" name=\"email\" class=\"form-control input-sm\" required=\"\">\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\n\\n\\t\\t\\t\\t\\t<div class=\"form-group form-group-default\">\\n\\t\\t\\t\\t\\t<label>Password</label>\\n\\t\\t\\t\\t\\t<div class=\"controls\">\\n\\t\\t\\t\\t\\t<input type=\"password\" class=\"form-control input-sm\" name=\"password\" required=\"\">\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\n\\t\\t\\t\\t\\t<div class=\"row\">\\n\\t\\t\\t\\t\\t<div class=\"col-md-6 no-padding\">\\n\\t\\t\\t\\t\\t<div class=\"checkbox \">\\n\\t\\t\\t\\t\\t<input type=\"checkbox\" value=\"1\" id=\"checkbox1\">\\n\\t\\t\\t\\t\\t<label for=\"checkbox1\">Keep Me Signed in</label>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\"col-md-6 text-right\">\\n\\t\\t\\t\\t\\t<a href=\"register\" class=\"more_txt small\">Click Here to Register</a> <br> <a href=\"forgotpass\" class=\"more_txt small\">Forgot Password?</a>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\n\\t\\t\\t\\t\\t<button class=\"btn btn-primary btn-cons m-t-10\" type=\"submit\">Login</button>\\n\\t\\t\\t\\t\\t</form>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t  </div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\"panel-footer\"></div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t</div>') ];\n}));\n\nTemplate.__checkName(\"notfound\");\nTemplate[\"notfound\"] = new Template(\"Template.notfound\", (function() {\n  var view = this;\n  return [ HTML.Raw('<div class=\"page_heading_bg\">\\n    <div class=\"container\">\\n        <h1>Page not found</h1>\\n    </div>\\n</div>\\n'), HTML.DIV({\n    class: \"section section_main_body\"\n  }, \"\\n    \", HTML.DIV({\n    class: \"container\"\n  }, \"\\n        \", HTML.DIV({\n    class: \"row\"\n  }, \"\\n            \", HTML.Raw('<div class=\"col-lg-12 col-md-12 col-sm-12\">\\n                <h2>We couldnt find this page</h2>\\n            </div>'), \"\\n            \", HTML.DIV({\n    class: \"col-lg-12 col-md-12 col-sm-12\"\n  }, \"\\n                \", HTML.DIV({\n    class: \"row\"\n  }, \"\\n                    \", HTML.Raw('<div class=\"col-lg-8 col-md-12 col-sm-8\">\\n                        <div class=\"member_img img_topbar\" style=\"margin: 15px;\">\\n                            <img class=\"img-responsive\" src=\"/Images/404.png\" alt=\"\">\\n                        </div>\\n                    </div>'), \"\\n                    \", HTML.DIV({\n    class: \"col-lg-4 col-md-12 col-sm-4\"\n  }, \"\\n                        \", HTML.DIV({\n    class: \"org_contact_infobox\"\n  }, \"\\n                            \", HTML.DIV({\n    class: \"row row_pad\"\n  }, \"\\n                                \", HTML.Raw('<div class=\"col-lg-2 col-md-12 col-sm-2\">\\n                                    <img alt=\"\" src=\"/Images/icon_location.png\">\\n                                </div>'), \"\\n                                \", HTML.DIV({\n    class: \"col-lg-10 col-md-12 col-sm-10\"\n  }, \"\\n                                    \", HTML.H1(Blaze.View(\"lookup:config.sitename\", function() {\n    return Spacebars.mustache(Spacebars.dot(view.lookup(\"config\"), \"sitename\"));\n  })), \"\\n                                    \", HTML.P(Blaze.View(\"lookup:config.address\", function() {\n    return Spacebars.mustache(Spacebars.dot(view.lookup(\"config\"), \"address\"));\n  })), \"\\n                                \"), \"\\n                            \"), \"\\n                            \", HTML.DIV({\n    class: \"row row_pad\"\n  }, \"\\n                                \", HTML.Raw('<div class=\"col-lg-2 col-md-12 col-sm-2\">\\n                                    <img alt=\"\" src=\"/Images/icon_call.png\">\\n                                </div>'), \"\\n                                \", HTML.DIV({\n    class: \"col-lg-10 col-md-12 col-sm-10\"\n  }, \"\\n                                    \", HTML.P(Blaze.View(\"lookup:config.phone\", function() {\n    return Spacebars.mustache(Spacebars.dot(view.lookup(\"config\"), \"phone\"));\n  })), \"\\n                                \"), \"\\n                            \"), \"\\n                            \", HTML.DIV({\n    class: \"row row_pad\"\n  }, \"\\n                                \", HTML.Raw('<div class=\"col-lg-2 col-md-12 col-sm-2\">\\n                                    <img alt=\"\" src=\"/Images/icon_contact.png\">\\n                                </div>'), \"\\n                                \", HTML.DIV({\n    class: \"col-lg-10 col-md-12 col-sm-10\"\n  }, \"\\n                                    \", HTML.P(HTML.A({\n    href: function() {\n      return [ \"mailto:\", Spacebars.mustache(Spacebars.dot(view.lookup(\"config\"), \"email\")) ];\n    }\n  }, Blaze.View(\"lookup:config.email\", function() {\n    return Spacebars.mustache(Spacebars.dot(view.lookup(\"config\"), \"email\"));\n  }))), \"\\n                                \"), \"\\n                            \"), \"\\n                        \"), \"\\n                    \"), \"\\n                \"), \"\\n            \"), \"\\n        \"), \"\\n    \"), \"\\n\") ];\n}));\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"main.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/ui/layouts/main.js                                                                                          //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.watch(require(\"./main.html\"));\nMeteor.startup(function () {\n  Meteor.call(\"authors\", function (error, result) {\n    Session.set(\"authors\", result);\n  });\n});\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}}},\"startup\":{\"client\":{\"index.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/startup/client/index.js                                                                                     //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.watch(require(\"./routes.js\"));\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"routes.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// imports/startup/client/routes.js                                                                                    //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.watch(require(\"../../ui/layouts/main.js\"));\nRouter.route('/', {\n  name: 'stylometry',\n  onBeforeAction: function () {\n    module.watch(require(\"../../ui/pages/stylometry.js\"));\n    this.render('stylometrytable', {\n      to: \"stylooption\"\n    });\n    this.next();\n  }\n});\nRouter.route('/sresults', {\n  name: 'sresults',\n  onBeforeAction: function () {\n    module.watch(require(\"../../ui/pages/sresults.js\"));\n    this.render('stylometrytable', {\n      to: \"stylooption\"\n    });\n    this.next();\n  }\n});\nRouter.route('/(.*)', {\n  onBeforeAction: function () {\n    Router.go('/'), this.next();\n  }\n});\nRouter.configure({\n  layoutTemplate: 'mainlayout',\n  notFoundTemplate: 'notfound'\n});\nRouter.after(function () {\n  document.body.scrollTop = document.documentElement.scrollTop = 0;\n  jQuery.getScript('/init.js');\n  Session.set(\"lastRoute\", Router.current().route.getName());\n});\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}}}},\"client\":{\"main.js\":function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// client/main.js                                                                                                      //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\nmodule.watch(require(\"/imports/startup/client\"));\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}}},{\n  \"extensions\": [\n    \".js\",\n    \".json\",\n    \".html\",\n    \".css\"\n  ]\n});\nvar exports = require(\"/client/main.js\");","servePath":"/app.js","sourceMap":{"version":3,"sources":["imports/ui/pages/sresults.js","imports/ui/pages/stylometry.js","imports/ui/layouts/main.js","imports/startup/client/index.js","imports/startup/client/routes.js","client/main.js"],"names":["module","watch","require","csv","v","allF","name","feature","nameObject","sentences","words","characters","p1","p2","p3","p4","p5","n1","n2","n3","s6","s5","s4","s7","s3","m4","s1","m7","c1","c2","s2","s8","s9","m1","m2","m3","m5","m6","m8","renameObject","o","Object","assign","keys","map","k","hexToRGB","hex","alpha","r","parseInt","slice","g","b","htmlLabels","dy","featureLength","length","featureArray","Session","get","i","fl","col","farray","includes","header","description","push","scatterColors","generateCompareData","data","results","feature1","feature2","sData","label","backgroundColor","x","y","hoverBackgroundColor","generateScatterChart","element","mychart","document","getElementById","getContext","bbdata","datasets","then","Chart","default","type","options","maintainAspectRatio","scales","xAxes","display","scaleLabel","labelString","ticks","beginAtZero","yAxes","steps","stepValue","Template","sresults","events","event","preventDefault","controller","Iron","render","to","$","hide","show","modal","backdrop","keyboard","reset","template","target","fileName","val","analysisResults","csvString","window","navigator","msSaveOrOpenBlob","blob","Blob","a","createElement","href","encodeURIComponent","download","body","appendChild","click","set","empty","Router","go","compareFeatures","selectedFeatures","frequencyLength","value","compareNames","compareData","onRendered","select2","minimumResultsForSearch","width","placeholder","matcher","term","text","toUpperCase","indexOf","on","e","thisVal","each","attr","removeAttr","stylometrygraph","fadeIn","cdata","f1label","generateData","dydata","bdata","fill","borderWidth","borderColor","dynamicCharts","ch","title","forEach","generateBarChart","labels","responsive","barPercentage","categoryPercentage","legend","tooltips","callbacks","stylometrytable","dynamicColumns","container","Handsontable","hot_init","columns","rowHeaders","fixedColumnsLeft","columnSorting","stretchH","helpers","nocharts","comparefeatures","carray","select","naturalSort","addclass","count","aarray","tarray","barray","tempArray","stylometry","id","currentTarget","toggleClass","ul","candidate","candidate2","candidate3","append","addClass","prop","author","book","farrays","concat","apply","filumdata","features","Meteor","call","error","result","Bert","alert","console","log","rname","sname","narray","t","closest","remove","splice","removeClass","sort","authors","texts","books","removepart","a1","replace","sigfig","toFixed","startup","route","onBeforeAction","next","configure","layoutTemplate","notFoundTemplate","after","scrollTop","documentElement","jQuery","getScript","current","getName"],"mappings":"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","file":"/app.js","sourcesContent":["import \"./sresults.html\";\nimport csv from \"to-csv\";\n\nconst allF = [\n  {name: \"Personal Pronouns\", feature: \"p1\"},\n  {name: \"Demonstrative Pronouns\", feature: \"p2\"},\n  {name: \"Quidam\", feature: \"p3\"},\n  {name: \"Reflexive Pronouns\", feature: \"p4\"},\n  {name: \"Iste\", feature: \"p5\"},\n  {name: \"Alius\", feature: \"n1\"},\n  {name: \"Ipse\", feature: \"n2\"},\n  {name: \"Idem\", feature: \"n3\"},\n  {name: \"Priusquam\", feature: \"s6\"},\n  {name: \"Antequam\", feature: \"s5\"},\n  {name: \"Quominus\", feature: \"s4\"},\n  {name: \"Dum\", feature: \"s7\"},\n  {name: \"Quin\", feature: \"s3\"},\n  {name: \"Ut\", feature: \"m4\"},\n  {name: \"Conditionals\", feature: \"s1\"},\n  {name: \"Prepositions\", feature: \"m7\"},\n  {name: \"Conjunctions\", feature: \"c1\"},\n  {name: \"Atque + consonant\", feature: \"c2\"},\n  {name: \"Cum\", feature: \"s2\"},\n  {name: \"Relative Clauses\", feature: \"s8\"},\n  {name: \"Mean Length Relative Clauses\", feature: \"s9\"},\n  {name: \"Interrogative Sentences\", feature: \"m1\"},\n  {name: \"Vocatives\", feature: \"m2\"},\n  {name: \"Superlatives\", feature: \"m3\"},\n  {name: \"Gerunds and Gerundives\", feature: \"m5\"},\n  {name: \"Mean Sentence Length\", feature: \"m6\"},\n  {name: \"Top 5 Ngrams\", feature: \"m8\"}\n];\n\nconst nameObject = {\n  name: \"Corpus Name\",\n  sentences: \"Sentences\",\n  words: \"Words\",\n  characters: \"Characters\",\n  p1: \"Personal Pronouns\",\n  p2: \"Demonstrative Pronouns\",\n  p3: \"Quidam\",\n  p4: \"Reflexive Pronouns\",\n  p5: \"Iste\",\n  n1: \"Alius\",\n  n2: \"Ipse\",\n  n3: \"Idem\",\n  s6: \"Priusquam\",\n  s5: \"Antequam\",\n  s4: \"Quominus\",\n  s7: \"Dum\",\n  s3: \"Quin\",\n  m4: \"Ut\",\n  s1: \"Conditionals\",\n  m7: \"Prepositions\",\n  c1: \"Conjunctions\",\n  c2: \"Atque + consonant\",\n  s2: \"Cum\",\n  s8: \"Relative Clauses\",\n  s9: \"Mean Length Relative Clauses\",\n  m1: \"Interrogative Sentences\",\n  m2: \"Vocatives\",\n  m3: \"Superlatives\",\n  m5: \"Gerunds and Gerundives\",\n  m6: \"Mean Sentence Length\",\n  m8: \"Top 5 Ngrams\"\n};\n\nconst renameObject = (o) =>\n  Object.assign(...Object.keys(o).map((k) => ({[nameObject[k] || k]: o[k]})));\n\nconst hexToRGB = (hex, alpha) => {\n  const r = parseInt(hex.slice(1, 3), 16),\n    g = parseInt(hex.slice(3, 5), 16),\n    b = parseInt(hex.slice(5, 7), 16);\n\n  if (alpha) {\n    return \"rgba(\" + r + \", \" + g + \", \" + b + \", \" + alpha + \")\";\n  } else {\n    return \"rgb(\" + r + \", \" + g + \", \" + b + \")\";\n  }\n};\n\nconst htmlLabels = () => {\n  let dy = [];\n  const featureLength = allF.length;\n  const featureArray = Session.get(\"features\");\n  for (let i = 0; i < fl; i++) {\n    let col = {};\n    if (farray.includes(allF[i].feature)) {\n      col.header = allF[i].name;\n      col.description = allF[i].name;\n      col.feature = allF[i].feature;\n      dy.push(col);\n    }\n  }\n  return dy;\n};\n\nconst scatterColors = [\"#702c39\", \"#b7c1c3\", \"#702c39\", \"#868e96\", \"#6610f2\"];\n\nconst generateCompareData = (data) => {\n  const results = Session.get(\"styloresult\");\n  const feature1 = data[0];\n  const feature2 = data[1];\n  let sData = [];\n  for (let i = 0; i < results.length; i++) {\n    let col = {};\n    col.label = results[i].name;\n    col.backgroundColor = hexToRGB(scatterColors[i], 0.85);\n    col.data = [\n      {\n        x: results[i][feature1],\n        y: results[i][feature2],\n        r: 10\n      }\n    ];\n    col.hoverBackgroundColor = \"#007bff\";\n    sData.push(col);\n  }\n  return sData;\n};\n\nconst generateScatterChart = (element, data) => {\n  let mychart = document.getElementById(\"scatterChart\").getContext(\"2d\");\n\n  const bbdata = {\n    datasets: data\n  };\n  import(\"chart.js\").then(({default: Chart}) => {\n    new Chart(mychart, {\n      type: \"bubble\",\n      data: bbdata,\n      options: {\n        maintainAspectRatio: false,\n        scales: {\n          xAxes: [\n            {\n              display: true,\n              scaleLabel: {\n                labelString: Session.get(\"compareLabels\")[1],\n                display: true\n              },\n\n              ticks: {\n                beginAtZero: true\n              }\n            }\n          ],\n          yAxes: [\n            {\n              display: true,\n              scaleLabel: {\n                labelString: Session.get(\"compareLabels\")[0],\n                display: true\n              },\n              ticks: {\n                beginAtZero: true,\n                steps: 0.1,\n                stepValue: 0.05\n              }\n            }\n          ]\n        }\n      }\n    });\n  });\n};\n\nTemplate.sresults.events({\n  \"click #graphs\"(event) {\n    event.preventDefault();\n    const controller = Iron.controller();\n    controller.render(\"stylometrygraph\", {to: \"stylooption\"});\n    $(\"#graphs\").hide();\n    $(\"#table\").show();\n  },\n  \"click .saveResult\"(event) {\n    $(\"#exportModal\").modal({backdrop: \"static\", keyboard: false});\n  },\n  \"click #closeExportModal\"(event) {\n    document.getElementById(\"saveResultForm\").reset();\n    $(\"#exportModal\").modal(\"hide\");\n  },\n  \"click #exportResult\"(event, template) {\n    event.preventDefault();\n    const target = event.target;\n    const fileName = $(\"#fileName\").val();\n    const analysisResults = Session.get(\"styloresult\");\n    const data = analysisResults.map(renameObject);\n    const csvString = csv(data);\n    if (window.navigator.msSaveOrOpenBlob) {\n      const blob = new Blob([csvString]);\n      window.navigator.msSaveOrOpenBlob(blob, fileName + \".csv\");\n    } else {\n      let a = document.createElement(\"a\");\n      a.href = \"data:attachment/csv,\" + encodeURIComponent(csvString);\n      a.target = \"_blank\";\n      a.download = fileName + \".csv\";\n      document.body.appendChild(a);\n      a.click();\n    }\n    document.getElementById(\"saveResultForm\").reset();\n    $(\"#exportModal\").modal(\"hide\");\n  },\n  \"click #table\"(event) {\n    event.preventDefault();\n    const controller = Iron.controller();\n    controller.render(\"stylometrytable\", {to: \"stylooption\"});\n    $(\"#table\").hide();\n    $(\"#graphs\").show();\n  },\n  \"click #compare\"(event) {\n    event.preventDefault();\n    const controller = Iron.controller();\n    controller.render(\"compareFeatures\", {to: \"stylooption\"});\n    $(\"#table\").show();\n  },\n  \"click .newsearch\"(event, template) {\n    Session.set(\"styloresult\", null);\n    $(\"#stable\").empty();\n    Router.go(\"/stylometry\");\n  }\n});\n\nTemplate.compareFeatures.events({\n  \"submit #compareFeaturesForm\"(event, template) {\n    event.preventDefault();\n    const target = event.target;\n    let selectedFeatures = [];\n    let frequencyLength = allF.length;\n    selectedFeatures.push(target.feature1.value);\n    selectedFeatures.push(target.feature2.value);\n    $(\"#compareSelect\").hide();\n    $(\"#compareView\").show();\n    let compareNames = [];\n    for (let b = 0; b < frequencyLength; b++) {\n      if (selectedFeatures.includes(allF[b].feature)) {\n        compareNames.push(allF[b].name);\n      }\n    }\n    Session.set(\"compareLabels\", compareNames);\n    let compareData = generateCompareData(selectedFeatures);\n    generateScatterChart(\"#scatterChart\", compareData);\n  }\n});\n\nTemplate.compareFeatures.onRendered(function() {\n  $(\".select2\").select2({\n    minimumResultsForSearch: 2,\n    width: \"100%\",\n    placeholder: \"Select Feature\",\n    matcher: function(term, text) {\n      return text.toUpperCase().indexOf(term.toUpperCase()) == 0;\n    }\n  });\n\n  $(\".select2[name=feature1]\").on(\"change\", function(e) {\n    const thisVal = $(this).val();\n    $(\".select2[name=feature2] option\").each(function() {\n      if (thisVal == $(this).attr(\"value\")) {\n        $(this).attr(\"disabled\", \"disabled\");\n      } else {\n        $(this).removeAttr(\"disabled\");\n      }\n    });\n  });\n\n  $(\".select2[name=feature2]\").on(\"change\", function(e) {\n    const thisVal = $(this).val();\n    $(\".select2[name=feature1] option\").each(function() {\n      if (thisVal == $(this).attr(\"value\")) {\n        $(this).attr(\"disabled\", \"disabled\");\n      } else {\n        $(this).removeAttr(\"disabled\");\n      }\n    });\n  });\n});\n\nTemplate.stylometrygraph.onRendered(function() {\n  $(\".toplevel\").fadeIn(\"slow\");\n  const featureArray = Session.get(\"features\");\n  const data = Session.get(\"styloresult\");\n  const cdata = data;\n  const f1label = cdata.map(function(x) {\n    return x.name;\n  });\n  const fl = allF.length;\n\n  const generateData = (feature) => {\n    const dydata = cdata.map(function(x) {\n      return x[feature];\n    });\n    let bdata = [];\n    for (let i = 0; i < cdata.length; i++) {\n      let col = {};\n      col.label = cdata[i].name;\n      col.data = [dydata[i]];\n      col.fill = true;\n      col.borderWidth = 2;\n      col.backgroundColor = \"rgba(112,44,57,0.4)\";\n      col.borderColor = \"#702c39\";\n      bdata.push(col);\n    }\n    return bdata;\n  };\n\n  let dynamicCharts = [];\n  for (let b = 0; b < fl; b++) {\n    let ch = {};\n    if (farray.includes(allF[b].feature)) {\n      ch.data = allF[b].feature;\n      ch.title = allF[b].name;\n      dynamicCharts.push(ch);\n    }\n  }\n\n  farray.forEach(function(x) {\n    generateBarChart(\"#\" + x, f1label, generateData(x));\n  });\n\n  function generateBarChart(element, labels, data) {\n    const mychart = $(element);\n\n    const bbdata = {\n      labels: labels,\n      datasets: data\n    };\n    import(\"chart.js\").then(({default: Chart}) => {\n      new Chart(mychart, {\n        type: \"bar\",\n        data: bbdata,\n        options: {\n          responsive: true,\n          maintainAspectRatio: false,\n          scales: {\n            xAxes: [\n              {\n                barPercentage: 0.4,\n                categoryPercentage: 1\n              }\n            ],\n            yAxes: [\n              {\n                ticks: {\n                  beginAtZero: true\n                }\n              }\n            ]\n          },\n          legend: {\n            display: false\n          },\n          tooltips: {\n            callbacks: {\n              title: function() {}\n            }\n          }\n        }\n      });\n    });\n  }\n});\n\nTemplate.stylometrytable.onRendered(function() {\n  $(\".toplevel\").fadeIn(\"slow\");\n  const farray = Session.get(\"features\");\n  let dynamicColumns = [\n    {data: \"name\", title: \"Corpus\"},\n    {data: \"words\", title: \"Words\"},\n    {data: \"characters\", title: \"Characters\"}\n  ];\n  const fl = allF.length;\n  for (let i = 0; i < fl; i++) {\n    let col = {};\n    if (farray.includes(allF[i].feature)) {\n      col.data = allF[i].feature;\n      col.title = allF[i].name;\n      dynamicColumns.push(col);\n    }\n  }\n  const data = Session.get(\"styloresult\");\n  const cdata = data;\n  let container = document.getElementById(\"stable\");\n  import(\"../hands.js\").then(({default: Handsontable}) => {\n    let hot_init = new Handsontable(container, {\n      data: data,\n      columns: dynamicColumns,\n      rowHeaders: true,\n      fixedColumnsLeft: 2,\n      columnSorting: true,\n      stretchH: \"all\"\n    });\n  });\n});\n\nTemplate.stylometrygraph.helpers({\n  nocharts() {\n    return htmlLabels();\n  }\n});\n\nTemplate.compareFeatures.helpers({\n  comparefeatures() {\n    let col = [];\n    let frequencyLength = allF.length;\n    let carray = Session.get(\"features\");\n    for (let i = 0; i < frequencyLength; i++) {\n      let select = {};\n      if (carray.includes(allF[i].feature)) {\n        select.value = allF[i].feature;\n        select.name = allF[i].name;\n        col.push(select);\n      }\n    }\n    return col;\n  }\n});\n","import \"./stylometry.html\";\nimport {naturalSort} from \"./helpers.js\";\n\nconst addclass = \"stylo_sel\";\n\nlet count = 0;\nlet aarray = [];\nlet tarray = [];\nlet barray = [];\nlet featureArray = [];\n\nconst tempArray = [\n  \"p1\",\n  \"p2\",\n  \"p3\",\n  \"p4\",\n  \"p5\",\n  \"n1\",\n  \"n2\",\n  \"n3\",\n  \"s1\",\n  \"s2\",\n  \"s3\",\n  \"s4\",\n  \"s5\",\n  \"s6\",\n  \"s7\",\n  \"s8\",\n  \"s9\",\n  \"m1\",\n  \"m2\",\n  \"m3\",\n  \"m4\",\n  \"m5\",\n  \"m6\",\n  \"m7\",\n  \"m8\",\n  \"c1\",\n  \"c2\"\n];\n\nTemplate.stylometry.events({\n  \"click .stylo_sec\"(e) {\n    const id = e.currentTarget.id;\n    $(\"#\" + id).toggleClass(\"stylo_sel\");\n  },\n  \"click #graphs\"(event) {\n    event.preventDefault();\n    const controller = Iron.controller();\n    controller.render(\"stylometrygraph\", {to: \"stylooption\"});\n    $(\"#graphs\").hide();\n    $(\"#table\").show();\n  },\n  \"click #table\"(event) {\n    event.preventDefault();\n    const controller = Iron.controller();\n    controller.render(\"stylometrytable\", {to: \"stylooption\"});\n    $(\"#table\").hide();\n    $(\"#graphs\").show();\n  },\n  \"click .newsearch\"(event, template) {\n    Session.set(\"styloresult\", null);\n    $(\"#stable\").empty();\n    $(\".sresult\").hide();\n    $(\".ssearch\").show();\n  },\n  \"click .addmore\"(event, template) {\n    var ul = document.getElementById(\"dynamic-list\");\n    const candidate = document.getElementById(\"fauthor\");\n    const candidate2 = document.getElementById(\"ftext\");\n    const candidate3 = document.getElementById(\"fbook\");\n    count += 1;\n    tarray.push(candidate2.value);\n    aarray.push(candidate.value);\n    barray.push(candidate3.value);\n    $(\"#stylocorpus\").append(\n      '<tr class=\"list\"><td data-name=' +\n        candidate.value +\n        \">\" +\n        candidate.value +\n        \"</td><td data-name=\" +\n        candidate2.value +\n        \">\" +\n        candidate2.value +\n        \"</td><td data-name=\" +\n        candidate3.value +\n        \">\" +\n        candidate3.value +\n        '</td><td class=\"text-center\"><button type=\"button\" class=\"btn btn-info remove\" id=\"delete\"><i class=\"fa fa-trash\"></i> Remove</button></td></tr>'\n    );\n    $(\"#fauthor\").select2(\"data\", null);\n    $(\"#fbook\").select2(\"data\", null);\n    $(\"#ftext\").select2(\"data\", null);\n    $(\".ftext\").addClass(\"disabled\");\n    $(\"#ftext\").prop(\"disabled\", true);\n    $(\".fbook\").addClass(\"disabled\");\n    $(\"#fbook\").prop(\"disabled\", true);\n  },\n  \"submit #fsearch\"(event, template) {\n    event.preventDefault();\n    const target = event.target;\n    const author = $(\"#fauthor :selected\").val();\n    const book = $(\"#fbook :selected\").val();\n    const text = $(\"#ftext :selected\").val();\n    let farrays = tempArray;\n    farrays.push($(\"#pronouns\").val());\n    farrays.push($(\"#adjectives\").val());\n    farrays.push($(\"#conjunctions\").val());\n    farrays.push($(\"#subordinate\").val());\n    farrays.push($(\"#miscellaneous\").val());\n    let farray = [].concat.apply([], farrays);\n    Session.set(\"features\", farray);\n    const filumdata = {\n      author: aarray,\n      text: tarray,\n      book: barray\n    };\n    const features = {\n      feature: farray\n    };\n    $(\".ssearch\").hide();\n    $(\".sloading\").show();\n    Meteor.call(\"stylometryf\", filumdata, features, function(error, result) {\n      if (error) {\n        Bert.alert(\"Error, please re-try!\", \"danger\", \"growl-top-right\");\n        console.log(error);\n        $(\".sloading\").hide();\n        $(\".ssearch\").show();\n      } else {\n        Session.set(\"styloresult\", result);\n        Router.go(\"/sresults\");\n      }\n    });\n  },\n  \"click .remove\"(event, template) {\n    event.preventDefault();\n    const target = event.target;\n    const rname = $(target).data(\"name\");\n    const sname = $(target).data(\"sub\");\n    const a = narray.indexOf(rname);\n    const t = narray.indexOf(sname);\n    $(target)\n      .closest(\"tr\")\n      .remove(this.id);\n    aarray.splice(a, 1);\n    tarray.splice(t, 1);\n    barray.splice(b, 1);\n    count -= 1;\n  }\n});\n\nTemplate.stylometry.onRendered(function() {\n  aarray = [];\n  tarray = [];\n  barray = [];\n  $(\"#arows\").on(\"click\", \".delete\", function() {\n    $(this)\n      .closest(\"tr\")\n      .remove();\n  });\n\n  $(\"#fauthor\").on(\"change\", function(e) {\n    const target = e.target;\n    const author = $(\"#fauthor :selected\").val();\n    Meteor.call(\"filumtexts\", author, function(error, result) {\n      Session.set(\"filumtexts\", result);\n      $(\"#ftext\").prop(\"disabled\", false);\n      $(\".ftext\").removeClass(\"disabled\");\n    });\n  });\n\n  $(\"#ftext\").on(\"change\", function(e) {\n    const target = e.target;\n    const author = $(\"#fauthor :selected\").val();\n    const text = $(\"#ftext :selected\").val();\n    Meteor.call(\"filumbooks\", author, text, function(error, result) {\n      sort = result.sort(naturalSort);\n      Session.set(\"filumbooks\", sort);\n      $(\"#fbook\").prop(\"disabled\", false);\n      $(\".fbook\").removeClass(\"disabled\");\n    });\n  });\n});\n\nTemplate.stylometry.helpers({\n  authors() {\n    return Session.get(\"filumauthors\");\n  },\n  texts() {\n    return Session.get(\"filumtexts\");\n  },\n  books() {\n    return Session.get(\"filumbooks\");\n  },\n  removepart(a1) {\n    if (a1) return a1.replace(\"Part \", \"\");\n  },\n  sigfig(a1) {\n    if (a1) return a1.toFixed(3);\n  }\n});\n","import \"./main.html\";\n\nMeteor.startup(function() {\n  Meteor.call(\"authors\", function(error, result) {\n    Session.set(\"authors\", result);\n  });\n});\n","import \"./routes.js\";\n","import '../../ui/layouts/main.js';\n\nRouter.route('/', {\n\tname: 'stylometry',\n\tonBeforeAction: function() {\n\t\timport '../../ui/pages/stylometry.js';\n\t\tthis.render('stylometrytable', {to:\"stylooption\"});\n\t\tthis.next();\n\t}\n});\n\nRouter.route('/sresults', {\n\tname: 'sresults',\n\tonBeforeAction: function() {\n\t\timport '../../ui/pages/sresults.js';\n\t\tthis.render('stylometrytable', {to:\"stylooption\"});\n\t\tthis.next();\n\t}\n});\n\n\nRouter.route('/(.*)', {\n\tonBeforeAction: function() {\n\t Router.go('/'),\n\t this.next()\n }\n});\n\nRouter.configure({\n    layoutTemplate: 'mainlayout',\n    notFoundTemplate: 'notfound'\n});\n\nRouter.after (function () {\ndocument.body.scrollTop = document.documentElement.scrollTop = 0;\njQuery.getScript('/init.js');\nSession.set(\"lastRoute\", Router.current().route.getName());\n});\n","import '/imports/startup/client';"]}}]